<div class="container">
  <div class="row">
    <div class="col-md-10">
      <div class="card fix-height">
        <div class="card-block">
          <div style="padding: 10px;">
            <button 
              class="btn btn-success float-right fa fa-plus" 
              (click)="openDialog()"
              placement="top" ngbTooltip="เพิ่มคำที่เกี่ยวข้อง"
              >  เพิ่ม</button>
            <h4>ตารางความสัมพันธ์ของคีย์เวิร์ด </h4>
            <hr>
            <p-dataTable [value]="tableData" [rows]="5" [paginator]="true" [rowsPerPageOptions]="[5,10,20]" 
              [immutable]=false
            >
              <p-column header="ลำดับ" [style]="{width:'6%'}">
                <ng-template let-rowIndex="rowIndex" pTemplate="rowexpansion">
                  {{rowIndex+1}}
                </ng-template>
              </p-column>
              <p-column field="key" header="คีย์เวิร์ด" [style]="{width:'20%'}"></p-column>
              <p-column field="ref" header="คำที่เกี่ยวข้อง"></p-column>
              <p-column header="จัดการ" [style]="{width:'20%', 'align':'center'}">
                <ng-template let-rowIndex="rowIndex" pTemplate="body">
                  <div class="align-middle">
                    <button pButton 
                      type="button" icon="fa-trash" 
                      class="ui-button-danger"
                      (click)="open(content, rowIndex)"
                      ngbTooltip="ลบคำที่เกี่ยวข้อง"
                      ></button>
                    <button pButton 
                      type="button" 
                      icon="fa-pencil" 
                      class="ui-button-warning"
                      (click)="openEdit(rowIndex)"
                      ngbTooltip="แก้ไขที่เกี่ยวข้อง"
                      ></button>
                  </div>
                </ng-template>
              </p-column>
            </p-dataTable>
          </div>
        </div>
      </div>
      <hr>
    </div>
  </div>
</div>
<ng-template #content let-ca="close('a')" let-cb="close('c')" let-a="confirm" let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">ยืนยัน</h4>
    <button type="button" class="close" aria-label="Close" (click)="d">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>ต้องการลบข้อมูลที่เลือก?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="ca">ลบ</button>
    <button type="button" class="btn btn-outline-dark float-right" (click)="cb">ปิด</button>
  </div>
</ng-template>

